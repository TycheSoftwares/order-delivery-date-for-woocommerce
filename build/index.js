(()=>{var e,t={980:(e,t,o)=>{"use strict";o(562),o(352)},352:(e,t,o)=>{"use strict";var r=o(195),a=o(723),d=o(609);const l=window.wp.element,s=window.wp.data,c=window.wc.wcBlocksData;window.wc.wcSettings;var n=o(0);const _=({checkoutData:e,shippingMethod:t,updateSession:o,setLoading:r})=>{const[i,_]=(0,l.useState)(""),[v,m]=(0,l.useState)(!0),[u,h]=(0,l.useState)((0,a.__)("Delivery Date","order-delivery-date")),{setExtensionData:p}=e,{setValidationErrors:y,clearValidationError:g}=(0,s.useDispatch)(c.VALIDATION_STORE_KEY),[b,w]=(0,l.useState)(!0),[k,f]=(0,l.useState)((0,a.__)("Choose a Date","order-delivery-date"));(0,l.useEffect)((()=>{w(orddd_lite_params.is_enable_delivery_date),h(orddd_lite_params.orddd_lite_delivery_date_field_label),_(localStorage.getItem("orddd_deliverydate_lite_session")),p("order-delivery-date","e_deliverydate",i),p("order-delivery-date","h_deliverydate",localStorage.getItem("h_deliverydate_lite_session")),m("checked"===orddd_lite_params.orddd_lite_date_field_mandatory),f(orddd_lite_params.orddd_lite_delivery_date_field_placeholder),b&&(setTimeout((()=>{_(localStorage.getItem("orddd_deliverydate_lite_session")),p("order-delivery-date","e_deliverydate",i),p("order-delivery-date","h_deliverydate",localStorage.getItem("h_deliverydate_lite_session"))}),3e3),jQuery(document).on("orddd_lite_on_select_date",(function(e,t){_(t)})),jQuery(document).on("change","#orddd_lite_datepicker",(function(e){_(e.target.value),p("order-delivery-date","e_deliverydate",e.target.value),p("order-delivery-date","h_deliverydate",localStorage.getItem("h_deliverydate_lite_session")),r(!0),(0,n.extensionCartUpdate)({namespace:"order-delivery-date",data:{e_deliverydate:e.target.value,h_deliverydate:localStorage.getItem("h_deliverydate_lite_session")}}).then((()=>{r(!1)}))})),jQuery(document).on("orddd_on_clear_text",(function(){r(!0),(0,n.extensionCartUpdate)({namespace:"order-delivery-date",data:{e_deliverydate:"",h_deliverydate:""}}).then((()=>{localStorage.setItem("h_deliverydate_lite_session",""),localStorage.setItem("orddd_deliverydate_lite_session",""),_(""),r(!1)}))})),v&&""===i?y({e_deliverydate:{message:(0,a.__)("Please select a delivery date","order-delivery-date"),hidden:!1}}):g("e_deliverydate"))}),[p,i,v,b,_,t,o,y,g]);const{validationError:E}=(0,s.useSelect)((e=>({validationError:e("wc/store/validation").getValidationError("e_deliverydate")}))),S=(0,l.useCallback)((e=>{_(e),p("order-delivery-date","e_deliverydate",e),p("order-delivery-date","h_deliverydate",localStorage.getItem("h_deliverydate_lite_session"))}),[_.setExtensionData]);return(0,d.createElement)("div",{style:{display:b?"block":"none"}},(0,d.createElement)(n.ValidatedTextInput,{id:"e_deliverydate",errorId:"e_deliverydate",type:"text",required:v,className:"orddd-datepicker",label:u,placeholder:k,value:i,onBlur:e=>_(e),onChange:S}),(0,d.createElement)("small",{class:"orddd_lite_field_note"},orddd_lite_params.orddd_lite_field_note))};var v=o(427),m=o(485),u=o.n(m);const h=({checkoutData:e,updateSession:t,setLoading:o})=>{const[r,_]=(0,l.useState)(!0),[m,h]=(0,l.useState)([]),[p,y]=(0,l.useState)(""),[g,b]=(0,l.useState)((0,a.__)("Time Slot","order-delivery-date")),{setExtensionData:w}=e,[k,f]=(0,l.useState)(!1),[E,S]=(0,l.useState)(!0),{setValidationErrors:x,clearValidationError:C}=(0,s.useDispatch)(c.VALIDATION_STORE_KEY),V="orddd_lite_time_slot",D=(0,a.__)("Please select a time slot","order-delivery-date");(0,l.useEffect)((()=>{if("on"!==orddd_lite_params.orddd_lite_enable_time_slot&&S(!1),!E)return;let e="undefined"!==localStorage.getItem("orddd_lite_time_slot")?localStorage.getItem("orddd_lite_time_slot"):"";y(e),_("checked"===orddd_lite_params.orddd_lite_time_slot_mandatory),b(orddd_lite_params.orddd_lite_delivery_timeslot_field_label),I(e),w("order-delivery-date","orddd_lite_time_slot",e),w("order-delivery-date","time_slot_mandatory",r),w("order-delivery-date","time_field_label",g),jQuery(document).on("orddd_lite_on_load_time_slots",(function(e,t){let o=[],r=localStorage.getItem("orddd_lite_time_slot"),a=orddd_lite_params.orddd_lite_auto_populate_first_available_time_slot,d=t.split("/");for(i=0;i<d.length;i++){let e=d[i].split("_");"select"==e[0].replace(/\s/g,"")?o.push({label:jsL10n.selectText,value:"select"}):"asap"==e[0]?o.push({label:jsL10n.asapText,value:e[0]}):o.push({label:e[1],value:e[0]}),null!=r?y(r):1===i&&"on"===a&&(y(e[1]),I(e[0]))}h(o)})),!r||p?C(V):x({[V]:{message:D,hidden:!0}}),C(V)}),[w,E,h,y,t,f,x,C]);const I=(0,l.useCallback)((e=>{y(e),localStorage.setItem("orddd_lite_time_slot",e),w("order-delivery-date","orddd_lite_time_slot",e),o(!0),(0,n.extensionCartUpdate)({namespace:"order-delivery-date",data:{orddd_lite_time_slot:e,h_deliverydate:localStorage.getItem("h_deliverydate_lite_session")}}).then((()=>{o(!1)}))}),[y,w]),j=(0,s.useSelect)((e=>e(c.VALIDATION_STORE_KEY).getValidationError(V)));return E?(0,d.createElement)("div",{id:"orddd_lite_time_slot",className:u()("wc-block-components-combobox",{"is-active":p,"has-error":j?.message&&!j?.hidden})},(0,d.createElement)(v.ComboboxControl,{className:"wc-block-components-combobox-control",label:g,onChange:I,onFilterValueChange:()=>null,options:m,value:p||"",allowReset:!1,"aria-invalid":j?.message&&!j?.hidden}),(0,d.createElement)(n.ValidationInputError,{propertyName:V})):null},p=()=>(0,d.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"}),y=({children:e,className:t,screenReaderLabel:o,showSpinner:r=!1,isLoading:a=!0})=>(0,d.createElement)("div",{className:u()(t,{"wc-block-components-loading-mask":a})},a&&r&&(0,d.createElement)(p,null),(0,d.createElement)("div",{className:u()({"wc-block-components-loading-mask__children":a}),"aria-hidden":a},e),a&&(0,d.createElement)("span",{className:"screen-reader-text"},o||__("Loading…","woo-gutenberg-products-block"))),{registerCheckoutBlock:g}=wc.blocksCheckout;orddd_block_params.is_orddd_block_present||(wcSettings.shippingEnabled&&!wcSettings.forcedBillingAddress?r.parent=["woocommerce/checkout-shipping-address-block"]:r.parent=["woocommerce/checkout-billing-address-block"],wcSettings.localPickupEnabled&&wcSettings.delivery_date_data.wc_pickup_locations&&(r.parent=["woocommerce/checkout-pickup-options-block","woocommerce/checkout-shipping-address-block"]),r.attributes={lock:{type:"object",default:{remove:!0,move:!0}}}),g({metadata:r,component:({children:e,checkoutExtensionData:t})=>{const[o,r]=(0,l.useState)(!0),{setExtensionData:i}=t,[s,c]=(0,l.useState)(""),[n,v]=(0,l.useState)(!1);(0,l.useEffect)((()=>{jQuery(document).ready((function(){jQuery("#e_deliverydate").val("").datepicker({dateFormat:orddd_lite_params.orddd_lite_delivery_date_format,firstDay:parseInt(orddd_lite_params.orddd_first_day_of_week),beforeShow:avd,beforeShowDay:chd,showButtonPanel:!0,closeText:jsL10n.clearText,onSelect:orddd_on_select_date,onClose:function(e,t){if(""!=e){t.selectedMonth;t.selectedDay,t.selectedYear}jQuery("#e_deliverydate").blur()}}).focus((function(e){jQuery(this).trigger("blur"),jQuery.datepicker.afterShow(e)})),window.onload=load_lite_functions()}))}),[]);const m=e=>{v(e)};return"yes"!==orddd_lite_params.orddd_lite_is_delivery_enabled?null:(0,d.createElement)(y,{isLoading:n,screenReaderLabel:(0,a.__)("Loading delivery date�","order-delivery-date"),showSpinner:!0},(0,d.createElement)("div",{className:"orddd-lite-checkout-fields"},(0,d.createElement)(_,{checkoutData:t,updateSession:s,setLoading:m}),(0,d.createElement)(h,{checkoutData:t,updateSession:s,setLoading:m}),(0,d.createElement)("input",{type:"hidden",id:"h_deliverydate",name:"h_deliverydate",value:""})))}})},562:(e,t,o)=>{"use strict";var r=o(609);const a=window.wp.blocks;var d=o(427);o(723);const l=window.wp.blockEditor;var i=o(0),s=o(195);(0,a.registerBlockType)(s,{icon:{src:(0,r.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 16"},(0,r.createElement)("g",null,(0,r.createElement)("g",null,(0,r.createElement)("path",{fill:"#010002",d:"M7.685,24.819H8.28v-2.131h3.688v2.131h0.596v-2.131h3.862v2.131h0.597v-2.131h4.109v2.131h0.595 v-2.131h3.417v-0.594h-3.417v-3.861h3.417v-0.596h-3.417v-3.519h3.417v-0.594h-3.417v-2.377h-0.595v2.377h-4.109v-2.377h-0.597 v2.377h-3.862v-2.377h-0.596v2.377H8.279v-2.377H7.685v2.377H3.747v0.594h3.938v3.519H3.747v0.596h3.938v3.861H3.747v0.594h3.938 V24.819z M12.563,22.094v-3.861h3.862v3.861H12.563z M21.132,22.094h-4.109v-3.861h4.109V22.094z M21.132,14.118v3.519h-4.109 v-3.519C17.023,14.119,21.132,14.119,21.132,14.118z M16.426,14.118v3.519h-3.862v-3.519 C12.564,14.119,16.426,14.119,16.426,14.118z M8.279,14.118h3.688v3.519H8.279V14.118z M8.279,18.233h3.688v3.861H8.279V18.233z"}),(0,r.createElement)("path",{fill:"#010002",d:"M29.207,2.504l-4.129,0.004L24.475,2.51v2.448c0,0.653-0.534,1.187-1.188,1.187h-1.388 c-0.656,0-1.188-0.533-1.188-1.187V2.514l-1.583,0.002v2.442c0,0.653-0.535,1.187-1.191,1.187h-1.388 c-0.655,0-1.188-0.533-1.188-1.187V2.517l-1.682,0.004v2.438c0,0.653-0.534,1.187-1.189,1.187h-1.389 c-0.653,0-1.188-0.533-1.188-1.187V2.525H8.181v2.434c0,0.653-0.533,1.187-1.188,1.187H5.605c-0.656,0-1.189-0.533-1.189-1.187 V2.53L0,2.534v26.153h2.09h25.06l2.087-0.006L29.207,2.504z M27.15,26.606H2.09V9.897h25.06V26.606z"}),(0,r.createElement)("path",{fill:"#010002",d:"M5.605,5.303h1.388c0.163,0,0.296-0.133,0.296-0.297v-4.16c0-0.165-0.133-0.297-0.296-0.297H5.605 c-0.165,0-0.298,0.132-0.298,0.297v4.16C5.307,5.17,5.44,5.303,5.605,5.303z"}),(0,r.createElement)("path",{fill:"#010002",d:"M11.101,5.303h1.389c0.164,0,0.297-0.133,0.297-0.297v-4.16c-0.001-0.165-0.134-0.297-0.298-0.297 H11.1c-0.163,0-0.296,0.132-0.296,0.297v4.16C10.805,5.17,10.938,5.303,11.101,5.303z"}),(0,r.createElement)("path",{fill:"#010002",d:"M16.549,5.303h1.388c0.166,0,0.299-0.133,0.299-0.297v-4.16c-0.001-0.165-0.133-0.297-0.299-0.297 h-1.388c-0.164,0-0.297,0.132-0.297,0.297v4.16C16.252,5.17,16.385,5.303,16.549,5.303z"}),(0,r.createElement)("path",{fill:"#010002",d:"M21.899,5.303h1.388c0.164,0,0.296-0.133,0.296-0.297v-4.16c0-0.165-0.132-0.297-0.296-0.297 h-1.388c-0.164,0-0.297,0.132-0.297,0.297v4.16C21.603,5.17,21.735,5.303,21.899,5.303z"})))),foreground:"#874FB9"},edit:({attributes:e,setAttributes:t})=>{const o=(0,l.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)("div",{className:"orddd-datepicker-fields"},(0,r.createElement)(i.ValidatedTextInput,{id:"e_deliverydate",type:"text",required:!1,className:"orddd-datepicker",label:"Delivery Date",value:""}),(0,r.createElement)("div",{id:"orddd_lite_time_slot",className:"wc-block-components-combobox"},(0,r.createElement)(d.ComboboxControl,{className:"wc-block-components-combobox-control",label:"Time Slot",onFilterValueChange:()=>null,options:[],value:"",allowReset:!1}))))},save:()=>null})},485:(e,t)=>{var o;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var d=typeof o;if("string"===d||"number"===d)e.push(o);else if(Array.isArray(o)&&o.length){var l=a.apply(null,o);l&&e.push(l)}else if("object"===d)for(var i in o)r.call(o,i)&&o[i]&&e.push(i)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(o=function(){return a}.apply(t,[]))||(e.exports=o)}()},609:e=>{"use strict";e.exports=window.React},0:e=>{"use strict";e.exports=window.wc.blocksCheckout},427:e=>{"use strict";e.exports=window.wp.components},723:e=>{"use strict";e.exports=window.wp.i18n},195:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"order-delivery-date/delivery-date","version":"1.0.1","title":"Order Delivery Date","category":"woocommerce","parent":["woocommerce/checkout-fields-block","woocommerce/checkout-totals-block","woocommerce/checkout-contact-information-block","woocommerce/checkout-shipping-address-block","woocommerce/checkout-billing-address-block","woocommerce/checkout-shipping-methods-block","woocommerce/checkout-pickup-options-block","woocommerce/checkout-payment-block","woocommerce/checkout-order-summary-block"],"supports":{"html":false,"multiple":true,"reusable":false,"inserter":true},"textdomain":"order-delivery-date","editorScript":"file:./build/index.js"}')}},o={};function r(e){var a=o[e];if(void 0!==a)return a.exports;var d=o[e]={exports:{}};return t[e](d,d.exports,r),d.exports}r.m=t,e=[],r.O=(t,o,a,d)=>{if(!o){var l=1/0;for(n=0;n<e.length;n++){for(var[o,a,d]=e[n],i=!0,s=0;s<o.length;s++)(!1&d||l>=d)&&Object.keys(r.O).every((e=>r.O[e](o[s])))?o.splice(s--,1):(i=!1,d<l&&(l=d));if(i){e.splice(n--,1);var c=a();void 0!==c&&(t=c)}}return t}d=d||0;for(var n=e.length;n>0&&e[n-1][2]>d;n--)e[n]=e[n-1];e[n]=[o,a,d]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,728:0,769:0,350:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var a,d,[l,i,s]=o,c=0;if(l.some((t=>0!==e[t]))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(s)var n=s(r)}for(t&&t(o);c<l.length;c++)d=l[c],r.o(e,d)&&e[d]&&e[d][0](),e[d]=0;return r.O(n)},o=globalThis.webpackChunkorder_delivery_date_for_woocommerce=globalThis.webpackChunkorder_delivery_date_for_woocommerce||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=r.O(void 0,[350],(()=>r(980)));a=r.O(a)})();